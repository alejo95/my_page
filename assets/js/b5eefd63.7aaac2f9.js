"use strict";(self.webpackChunkmy_page=self.webpackChunkmy_page||[]).push([[8237],{2692:e=>{e.exports=JSON.parse('{"permalink":"/blog/vagrant","editUrl":"http://iamdevops.site/my_page/edit/main/blog/2025/repository_management/vagrant_blog.md","source":"@site/blog/2025/repository_management/vagrant_blog.md","title":"Aprendiendo iaC con Vagrant","description":"En este corto blog hablare sobre lo bueno y lo malo de Vagran como proveedor iaC(infraestruc como codigo)","date":"2025-06-22T00:00:00.000Z","tags":[{"inline":false,"label":"Vagrant","permalink":"/blog/tags/tags/vagrant"},{"inline":false,"label":"Automation","permalink":"/blog/tags/tags/automation"}],"readingTime":4.32,"hasTruncateMarker":true,"authors":[{"name":"Alejandro Ram\xedrez","title":"Software Engineer | DevOps | Back-end Developer","url":"https://alejo95.github.io/my_page/about_me","description":"Alejandro Ram\xedrez is a back-end developer with a passion for creating efficient and scalable applications. He has a strong background in software development and is always eager to learn new technologies.\\n","social":{"linkedin":"https://www.linkedin.com/in/alejandro-ramirez-95/"},"imageURL":"https://avatars.githubusercontent.com/u/30883786?s=96&v=4","key":"alejandro-ramirez","page":null}],"frontMatter":{"slug":"vagrant","sidebar_position":1,"title":"Aprendiendo iaC con Vagrant","tags":["vagrant","automation"],"authors":"alejandro-ramirez","date":"2025-06-22T00:00:00.000Z"},"unlisted":false,"nextItem":{"title":"Database DevOps con Liquibase","permalink":"/blog/liquibase"}}')},4987:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var r=n(2692),o=n(4848),i=n(8453);const s={slug:"vagrant",sidebar_position:1,title:"Aprendiendo iaC con Vagrant",tags:["vagrant","automation"],authors:"alejandro-ramirez",date:new Date("2025-06-22T00:00:00.000Z")},t=void 0,l={authorsImageUrls:[void 0]},d=[{value:"\xbfQues es la infraesctructra como codigo o iaC?",id:"ques-es-la-infraesctructra-como-codigo-o-iac",level:2},{value:"\xbfQue es vagrant?",id:"que-es-vagrant",level:3},{value:"\xbfLo Bueno y lo Malo?",id:"lo-bueno-y-lo-malo",level:3},{value:"\ud83d\ude80 Comandos Clave de Vagrant",id:"-comandos-clave-de-vagrant",level:3},{value:"\ud83d\udc68\u200d\u2695\ufe0f Laboratorio",id:"\ufe0f-laboratorio",level:2},{value:"\ud83d\udcbb Instalar Vagrant",id:"-instalar-vagrant",level:3},{value:"\ud83e\uddea \xbfQu\xe9 contiene este laboratorio?",id:"-qu\xe9-contiene-este-laboratorio",level:3},{value:"\ud83d\udcdd Creemos nuestro Vagrantfile",id:"-creemos-nuestro-vagrantfile",level:3},{value:"\ud83c\udf10 \xbfC\xf3mo lo pruebo?",id:"-c\xf3mo-lo-pruebo",level:3},{value:"\ud83d\udd27 \xbfQu\xe9 aprend\xed y configur\xe9?",id:"-qu\xe9-aprend\xed-y-configur\xe9",level:3},{value:"\ud83d\ude2b Mi error",id:"-mi-error",level:2},{value:"Gracias \ud83e\udd29 por llegar hasta este punto",id:"gracias--por-llegar-hasta-este-punto",level:3}];function c(e){const a={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.p,{children:["En este corto blog hablare sobre lo bueno y lo malo de Vagran como proveedor ",(0,o.jsx)(a.strong,{children:"iaC"}),"(infraestruc como codigo)\npero antes definiremos ques ",(0,o.jsx)(a.strong,{children:"iaC"})]}),"\n",(0,o.jsx)(a.h2,{id:"ques-es-la-infraesctructra-como-codigo-o-iac",children:"\xbfQues es la infraesctructra como codigo o iaC?"}),"\n",(0,o.jsxs)(a.p,{children:["La ",(0,o.jsx)(a.em,{children:(0,o.jsx)(a.strong,{children:"infraestructura como codigo"})})," o como se conoce con sus siglas en ingles ",(0,o.jsx)(a.strong,{children:"iaC"})," es una practica que utiliza archivos de\nconfiguraci\xf3n para autimatizar procesos que se pueden realizar de forma manual, pero esto en su practica puede traer inconvenientes\nya que estos procesos tienen a ser repetitivos \ud83d\udd01."]}),"\n",(0,o.jsxs)(a.p,{children:["La evoluci\xf3n y la necesidad de atomatizar los procesos de gestion de la infeaestructra llevo ala ceaci\xf3n de este paradicma y al dia\nde hoy se consolido como una practica fundamneta deltro del moviento DevOps, buscando tratar la infraestructra de manera simila al\ncodigo, utlizando herramientas como lo es en este caso ",(0,o.jsx)(a.strong,{children:"Vagrant"}),"."]}),"\n",(0,o.jsx)(a.h3,{id:"que-es-vagrant",children:"\xbfQue es vagrant?"}),"\n",(0,o.jsx)(a.p,{children:"Vagran es una soluci\xf3n creada por HashiCorp, es una heramienta de codigo abierto que facilita la gestion del ciclo de vida\nde maquinas virtuales, la cual nos permite definir y configurar nuestro entornos de desarollo reproducibles y configurables,\nutilizando archivos de configuraci\xf3n para especificar desde el sistema operativo, la red, los usiarios, entre otras configuraciones.\nVagrant esta dise\xf1ado para facilitar el flujo de trabajo de desarollo y pruebas."}),"\n",(0,o.jsx)(a.h3,{id:"lo-bueno-y-lo-malo",children:"\xbfLo Bueno y lo Malo?"}),"\n",(0,o.jsxs)(a.table,{children:[(0,o.jsx)(a.thead,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.th,{children:"Lo bueno"}),(0,o.jsx)(a.th,{children:"Lo Malo"})]})}),(0,o.jsxs)(a.tbody,{children:[(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"Muy ligero"}),(0,o.jsx)(a.td,{children:"Las configuraciones avanzada depende del proveedor de VM."})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"Facil de modficiar y distribuir"}),(0,o.jsx)(a.td,{children:"No esta adapatado para esenario complejos."})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"Facil de integran en entorno DevOps"}),(0,o.jsx)(a.td,{children:"Mas lentonto que un contenedor."})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"Es de codigo abierto"}),(0,o.jsx)(a.td,{children:"Consume demaciada memoria"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"Distribuye imagenes limpias con configuraciones completas"}),(0,o.jsx)(a.td,{children:"Entornos limitados"})]})]})]}),"\n",(0,o.jsxs)(a.p,{children:["Ya que tenemos tantas limitaciones dejare algunos de los esearios en que puede ser util vagran ya que esta solucion la podemos\nimplementar mas facil haciendo uso de herramientas como ",(0,o.jsx)(a.strong,{children:"docker"})," y ",(0,o.jsx)(a.strong,{children:"docker-compose"}),"."]}),"\n",(0,o.jsxs)(a.ol,{children:["\n",(0,o.jsx)(a.li,{children:"Al tener entornos replicables en produci\xf3n"}),"\n",(0,o.jsx)(a.li,{children:"Cuando vamos a trabajar con varios sitemas operativos (Implementar laboratorios)"}),"\n",(0,o.jsx)(a.li,{children:"En caso de no querer depender de la infraestrucra del host dond estas alojando tu software"}),"\n"]}),"\n",(0,o.jsx)(a.h3,{id:"-comandos-clave-de-vagrant",children:"\ud83d\ude80 Comandos Clave de Vagrant"}),"\n",(0,o.jsxs)(a.table,{children:[(0,o.jsx)(a.thead,{children:(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.th,{children:"Comando"}),(0,o.jsx)(a.th,{children:"Descripci\xf3n"})]})}),(0,o.jsxs)(a.tbody,{children:[(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"vagrant init"}),(0,o.jsx)(a.td,{children:"Crea un Vagrantfile b\xe1sico"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"vagrant up"}),(0,o.jsx)(a.td,{children:"Inicia la VM (+ provisionamiento)"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"vagrant ssh"}),(0,o.jsx)(a.td,{children:"Con\xe9ctate a la VM por SSH"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"vagrant halt"}),(0,o.jsx)(a.td,{children:"Apaga la VM"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"vagrant destroy"}),(0,o.jsx)(a.td,{children:"Elimina la VM (\xa1cuidado!)"})]}),(0,o.jsxs)(a.tr,{children:[(0,o.jsx)(a.td,{children:"vagrant provision"}),(0,o.jsx)(a.td,{children:"Re-ejecuta el provisionamiento"})]})]})]}),"\n",(0,o.jsx)(a.h2,{id:"\ufe0f-laboratorio",children:"\ud83d\udc68\u200d\u2695\ufe0f Laboratorio"}),"\n",(0,o.jsx)(a.p,{children:"Vamos a iniciar a crear nuestra estructura la cual es la siguiente\nEsta es una estrucrura que puedes generar con vagrant para que puedas tener\nmas organizado tu proyecto de vagrant"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"',children:"vagrant-nginx-lab/\n\u251c\u2500\u2500 html\n\u2502\xa0\xa0 \u2514\u2500\u2500 index.html\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 Vagrantfile\n"})}),"\n",(0,o.jsx)(a.h3,{id:"-instalar-vagrant",children:"\ud83d\udcbb Instalar Vagrant"}),"\n",(0,o.jsx)(a.p,{children:"Descargar desde vagrantup.com y ejecutar el .msi"}),"\n",(0,o.jsx)(a.h3,{id:"-qu\xe9-contiene-este-laboratorio",children:"\ud83e\uddea \xbfQu\xe9 contiene este laboratorio?"}),"\n",(0,o.jsxs)(a.ul,{children:["\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"Vagrantfile"}),": define el entorno, el contenedor, el volumen y los puertos."]}),"\n",(0,o.jsxs)(a.li,{children:[(0,o.jsx)(a.code,{children:"html/index.html"}),": una p\xe1gina simple que dice \u201c\xa1Hola, soy Alejandro!\u201d con estilo."]}),"\n",(0,o.jsxs)(a.li,{children:["Permisos adecuados (",(0,o.jsx)(a.code,{children:"755"})," para la carpeta, ",(0,o.jsx)(a.code,{children:"644"})," para el archivo)."]}),"\n",(0,o.jsx)(a.li,{children:"Puerto 8080 expuesto para ver el sitio desde el navegador."}),"\n"]}),"\n",(0,o.jsx)(a.h3,{id:"-creemos-nuestro-vagrantfile",children:"\ud83d\udcdd Creemos nuestro Vagrantfile"}),"\n",(0,o.jsxs)(a.p,{children:["El vagrantfile es nuestro archivo de configuraci\xf3n el cual levantara las infraestrucras que le solicitemos, en este caso\nrealizaremos un laboratorio haciendo uso de ",(0,o.jsx)(a.strong,{children:"docker"})," y ",(0,o.jsx)(a.strong,{children:"nginx"})," para levantar una pagina estatica"]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"',children:'Vagrant.configure("2") do |config|\n# Crear el archivo HTML antes de levantar el contenedor\nunless File.exist?("html/index.html")\n    Dir.mkdir("html") unless Dir.exist?("html")\n    File.write("html/index.html", "<h1>Hola, soy Alejandro</h1>\\n")\n    File.chmod(0755, "html")\n    File.chmod(0644, "html/index.html")\nend\nconfig.vm.box_version = "~> 2025.06"\nconfig.vm.define "nginx_container" do |nginx|\n        nginx.vm.provider "docker" do |d|\n        d.image = "nginx:latest"\n        d.name = "nginx-dev"\n        d.ports = ["8080:80"] # Acceso v\xeda localhost:8080\n        d.remains_running = true\n        d.volumes = ["#{Dir.pwd}/html:/usr/share/nginx/html:ro"]\n        end\n    end\nend\n'})}),"\n",(0,o.jsx)(a.h3,{id:"-c\xf3mo-lo-pruebo",children:"\ud83c\udf10 \xbfC\xf3mo lo pruebo?"}),"\n",(0,o.jsxs)(a.ol,{children:["\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsxs)(a.p,{children:["Aseg\xfarate de tener ",(0,o.jsx)(a.strong,{children:"Docker Desktop"})," instalado y corriendo."]}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"Clona este repositorio o copia los archivos en una carpeta."}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"Ejecuta:"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"',children:"vagrant up --provider=docker\n"})}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"Si quieres detener el docker puedes usar el siguiente comando"}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"',children:"vagrant halt\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(a.h3,{id:"-qu\xe9-aprend\xed-y-configur\xe9",children:"\ud83d\udd27 \xbfQu\xe9 aprend\xed y configur\xe9?"}),"\n",(0,o.jsxs)(a.p,{children:["\u2705 Us\xe9 Vagrant para definir y gestionar el entorno.",(0,o.jsx)(a.br,{}),"\n","\u2705 utilice Docker (ideal para Macs con Apple Silicon).",(0,o.jsx)(a.br,{}),"\n","\u2705 Automatiz\xe9 la creaci\xf3n de un archivo ",(0,o.jsx)(a.code,{children:"index.html"})," con un dise\xf1o sencillo y bonito.",(0,o.jsx)(a.br,{}),"\n","\u2705 Mont\xe9 ese archivo como volumen dentro de un contenedor NGINX.",(0,o.jsx)(a.br,{}),"\n","\u2705 Configur\xe9 correctamente los permisos de archivos para evitar errores como ",(0,o.jsx)(a.code,{children:"403 Forbidden"}),"."]}),"\n",(0,o.jsx)(a.h2,{id:"-mi-error",children:"\ud83d\ude2b Mi error"}),"\n",(0,o.jsx)(a.p,{children:"Ten encuenta que para manejar vagrant en Mac con chip con arquitectura ARM necesitas crear utilizar una confurtaci\xf3n difetente\npor esta raz\xf3n tuve el siguiente erro."}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"  ',children:'    alejo@alejos-MacBook-Pro ubuntu-jummy64 % vagrant up\n    Bringing machine \'default\' up with \'virtualbox\' provider...\n    Command: ["startvm", "54267685-348f-4553-8915-acbcd4a560b0", "--type", "headless"]\n\n    Stderr: VBoxManage: error: The VM session was aborted\n    VBoxManage: error: Details: code NS_ERROR_FAILURE (0x80004005), component SessionMachine, interface ISession\n'})}),"\n",(0,o.jsxs)(a.p,{children:["Este erro es devido a que como comente aterior mente vagrant tiene un error de compatividad con la arquitectura ARM,\npara solucionarlo solo deves  instalar ",(0,o.jsx)(a.strong,{children:"paralles"})," como proveedor VM."]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"',children:'    vagrant plugin install vagrant-parallels\n    config.vm.box = "generic/ubuntu2204-arm64"\n'})}),"\n",(0,o.jsxs)(a.p,{children:["Tambien tuve que usar una imagen que vieniera para la arquitectura ",(0,o.jsx)(a.strong,{children:"ARM"})]}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-bash",metastring:'title="Bash"',children:'    config.vm.box = "generic/ubuntu2204-arm64"\n'})}),"\n",(0,o.jsx)(a.h3,{id:"gracias--por-llegar-hasta-este-punto",children:"Gracias \ud83e\udd29 por llegar hasta este punto"}),"\n",(0,o.jsxs)(a.p,{children:["A\xfan quedan muchas cosas por explorar de ",(0,o.jsx)(a.strong,{children:"vagrant"}),", pero te agradezco por tomarte el tiempo de entrar a este blog. El c\xf3digo implementado\nlo puedes encontrar en m\xed git-hub ",(0,o.jsx)(a.a,{href:"https://github.com/alejo95/vagrant-nginx-lab",children:"alejo95/vagrant-nginx-lab"})]})]})}function u(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,a,n)=>{n.d(a,{R:()=>s,x:()=>t});var r=n(6540);const o={},i=r.createContext(o);function s(e){const a=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:a},e.children)}}}]);