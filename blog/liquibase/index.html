<!doctype html>
<html lang="es" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Database DevOps con Liquibase | Alejo | DevOps Portfolio</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://iamdevops.site/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="http://iamdevops.site/img/social-card.jpg"><meta data-rh="true" property="og:url" content="http://iamdevops.site/blog/liquibase"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Database DevOps con Liquibase | Alejo | DevOps Portfolio"><meta data-rh="true" name="description" content="Hola, amigos üòÉ DevOps. Hoy hablaremos sobre Database DevOps."><meta data-rh="true" property="og:description" content="Hola, amigos üòÉ DevOps. Hoy hablaremos sobre Database DevOps."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-06-12T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://alejo95.github.io/my_page/about_me"><meta data-rh="true" property="article:tag" content="Liquibase,Database,DevOps,Database DevOps"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://iamdevops.site/blog/liquibase"><link data-rh="true" rel="alternate" href="http://iamdevops.site/blog/liquibase" hreflang="es"><link data-rh="true" rel="alternate" href="http://iamdevops.site/blog/liquibase" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"http://iamdevops.site/blog/liquibase","mainEntityOfPage":"http://iamdevops.site/blog/liquibase","url":"http://iamdevops.site/blog/liquibase","headline":"Database DevOps con Liquibase","name":"Database DevOps con Liquibase","description":"Hola, amigos üòÉ DevOps. Hoy hablaremos sobre Database DevOps.","datePublished":"2025-06-12T00:00:00.000Z","author":{"@type":"Person","name":"Alejandro Ram√≠rez","description":"Software Engineer | DevOps | Back-end Developer","url":"https://alejo95.github.io/my_page/about_me","image":"https://avatars.githubusercontent.com/u/30883786?s=96&v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"http://iamdevops.site/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Alejo | DevOps Portfolio RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Alejo | DevOps Portfolio Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8fdae576.css">
<script src="/assets/js/runtime~main.b5e21d11.js" defer="defer"></script>
<script src="/assets/js/main.829a571e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/30883786?s=96&amp;v=4"><link rel="preload" as="image" href="/img/blog/devops/databasedevops.png"><link rel="preload" as="image" href="/img/blog/devops/vidadeldesarollo.png"><link rel="preload" as="image" href="/img/blog/devops/unficacionvidadelsoftware.png"><link rel="preload" as="image" href="/img/blog/devops/dockerinstall.png"><link rel="preload" as="image" href="/img/blog/devops/terminal_susses_jdk.png"><link rel="preload" as="image" href="/img/blog/devops/liquibase_install.png"><link rel="preload" as="image" href="/img/blog/devops/liquibasevscode.png"><link rel="preload" as="image" href="/img/blog/devops/changelogmaster.png"><link rel="preload" as="image" href="/img/blog/devops/liquivasetreeprod.png"><link rel="preload" as="image" href="/img/blog/devops/liquibaserun.png"><link rel="preload" as="image" href="/img/blog/devops/primerejecucion.png"><link rel="preload" as="image" href="/img/blog/devops/conectiondb.png"><link rel="preload" as="image" href="/img/blog/devops/basededatos.png"><link rel="preload" as="image" href="/img/blog/devops/runliquibasechange.png"><link rel="preload" as="image" href="/img/blog/devops/rollbackliquibase.png"><link rel="preload" as="image" href="/img/blog/devops/addege.png"><link rel="preload" as="image" href="/img/blog/devops/rollbacksucces.png"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My page Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My page Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">I Am DevOps</b></a><a class="navbar__item navbar__link" href="/about_me">Sobre m√≠</a><a class="navbar__item navbar__link" href="/docs/intro">Tutoriales</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/alejo95" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Cambiar entre modo oscuro y claro (actualmente system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Navegaci√≥n de publicaciones recientes"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/vagrant">Aprendiendo iaC con Vagrant</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/liquibase">Database DevOps con Liquibase</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/entendiendo_nginx">Nginx</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/manejo-del-repositorio">Manejo del repositorio</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Database DevOps con Liquibase</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-06-12T00:00:00.000Z">12 de junio de 2025</time> ¬∑ <!-- -->18 min de lectura</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://alejo95.github.io/my_page/about_me" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/30883786?s=96&amp;v=4" alt="Alejandro Ram√≠rez"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://alejo95.github.io/my_page/about_me" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp" translate="no">Alejandro Ram√≠rez</span></a></div><small class="authorTitle_nd0D" title="Software Engineer | DevOps | Back-end Developer">Software Engineer | DevOps | Back-end Developer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Hola, amigos üòÉ DevOps. Hoy hablaremos sobre <strong>Database DevOps</strong>.</p>
<p>Como bien sabemos, DevOps ha sido clave en el desarrollo de aplicaciones, especialmente al facilitar los procesos de entrega
contin√∫a e integrando a los equipos de desarrollo y operaciones en flujos de trabajo √°giles y optimizados.</p>
<p>Sin embargo, muchas veces durante el desarrollo de una aplicaci√≥n omitimos la importancia de las bases de datos. Nos enfocamos en
escribir c√≥digo y en contar con herramientas que permitan hacer Rollback de nuestro c√≥digo de forma r√°pida en caso de alg√∫n error.
Pero hacer Rollback en una base de datos puede ser mucho m√°s delicado y perjudicial si no se maneja correctamente.</p>
<p>Por eso, dentro de DevOps se han implementado herramientas y pr√°cticas que nos permiten gestionar los cambios en bases de datos üìà
de manera segura y eficiente. En este blog veremos c√≥mo usar <strong>Liquibase</strong> y c√≥mo puede ayudarnos a mejorar nuestro flujo de
trabajo y de esta forma mantener nuestra base de datos de una forma consistente.</p>
<img src="/img/blog/devops/databasedevops.png" alt="contenedor" width="600">
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ques-database-devops-">¬øQues Database DevOps? üë®‚Äçüíª<a href="#ques-database-devops-" class="hash-link" aria-label="Enlace directo al ¬øQues Database DevOps? üë®‚Äçüíª" title="Enlace directo al ¬øQues Database DevOps? üë®‚Äçüíª" translate="no">‚Äã</a></h2>
<p>Es traer las pr√°cticas y principios implementados en el mundo del <strong>DevOps</strong> buscando garantizar que el c√≥digo de las bases de
los datos se incluyen en el mismo proceso que el c√≥digo de desarrollo. Con esto buscamos solucionar el cuello de botella que se
puede presentar al momento de generar los cambios en el c√≥digo de la base de datos, ya que en muchos de los casos estos cambios
tienen que ser validados por un <strong>DBA</strong>(data base administrador) y facilit√°ndole el trabajo, ya que ellos se encargaran de
enfocarse en temas respecto a la base de datos.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="porque-surge-esta-problematica-">¬øPorque surge esta problematica? üòß<a href="#porque-surge-esta-problematica-" class="hash-link" aria-label="Enlace directo al ¬øPorque surge esta problematica? üòß" title="Enlace directo al ¬øPorque surge esta problematica? üòß" translate="no">‚Äã</a></h2>
<p>Esta problem√°tica se da debido a que muchas veces los programadores realizan actualizaciones en el c√≥digo fuente de las
aplicaciones que algunas ocasiones implementa cambios en el c√≥digo de la base de datos, estos cambios tenemos que llevarlos
a cabo haciendo uso de SQL.</p>
<p>Para entender esto de una forma m√°s f√°cil dejar√© un diagrama que muestra el flujo manual que se suele llevar por un equipo
convencional de DBA generando pausa entre cada paso (generando un cuello de botella).</p>
<img src="/img/blog/devops/vidadeldesarollo.png" alt="contenedor" width="700">
<p>debido a que estos procesos funcionan de una forma manual, deben llevarse a cabo las revisiones del c√≥digo de base datos
suele ser lo ultimo en realizarse suele generar un retraso en el lanzamiento. Esto genera un problema, pues genera un retraso
generando problemas pues la validaci√≥n y revisi√≥n no son eficientes. Todo proceso de cambio en la base de datos es simplemente
un obst√°culo.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="una-soluci√≥n-entre-muchas-">Una soluci√≥n entre muchas üîß<a href="#una-soluci√≥n-entre-muchas-" class="hash-link" aria-label="Enlace directo al Una soluci√≥n entre muchas üîß" title="Enlace directo al Una soluci√≥n entre muchas üîß" translate="no">‚Äã</a></h2>
<p>En este caso como hemos hablado desde un principio aqu√≠ es donde entra nuestra soluci√≥n <strong>Liquidbase</strong> como una herramienta echa
para quitar esas paradas innecesarias, donde el <strong>DBA</strong> debe revisar los cambios hasta la fase final, sin la necesidad de hacer
las revisiones en etapas tempranas del proceso y as√≠ empaquetar todo el c√≥digo.</p>
<img src="/img/blog/devops/unficacionvidadelsoftware.png" alt="contenedor" width="700">
<p>Una soluci√≥n DevOps de bases de datos como <a href="https://www.liquibase.com/how-liquibase-works" target="_blank" rel="noopener noreferrer" class="">Liquibase</a>. Permite a los equipos
automatizar y gestionar la gesti√≥n de cambios para optimizar este cuello de botella y acelerar los procesos de las
aplicaciones. Esto es lo que hace que esta soluci√≥n sea tan valiosa.</p>
<p><strong>Liquibase</strong> Nos permite gestionar estas actualizaciones de una forma f√°cil y que igual forma nos permite realizar un Rollback
de una forma f√°cil y r√°pida, ayud√°ndonos a mantener la consistencia en la base datos, adem√°s nos permite llevar un controlo de
versiones, la cual realizar de una forma inicial manualmente y en el futuro tambi√©n nos permite automatizar este proceso.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="laboratorio-liquibase-">Laboratorio Liquibase üß™<a href="#laboratorio-liquibase-" class="hash-link" aria-label="Enlace directo al Laboratorio Liquibase üß™" title="Enlace directo al Laboratorio Liquibase üß™" translate="no">‚Äã</a></h2>
<p>Hoy realizare la implementaci√≥nde liquidase si quieres implementarlodejare los paso para que lo sigas y tambi√©npuedas
implementarlo en t√∫ m√°quina si quieres implementarlo a un <strong>CI/CD</strong> debemos realizar otros paso, en esta primer guia,
encuentrasla implementaci√≥n de liquibase donde el objetivo es aprender como liquibase gestiona cambios en las bases de datos de
forma controlada usando archivos de tipo chagelog( YAML, XML, JSON o SQL). <strong>Vamos! ü•≥</strong></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-requisitos-previos">‚öôÔ∏è Requisitos previos<a href="#Ô∏è-requisitos-previos" class="hash-link" aria-label="Enlace directo al ‚öôÔ∏è Requisitos previos" title="Enlace directo al ‚öôÔ∏è Requisitos previos" translate="no">‚Äã</a></h3>
<p>antes de comenzar debemos tener los siguiente recursos instalados en nuestro equipo üíª en este caso realizamos la configuraci√≥n
en macOs, dejare una referencia para que instales en Linux.</p>
<ol>
<li class=""><strong>Docker</strong>: lo usaremos para levantar nuestra base de datos de prueba y nuestro liquibase</li>
<li class=""><strong>Editor de codigo</strong>: En mi caso usare VS Code</li>
<li class=""><strong>Java JDK</strong> 11 o Superior  (opcional)</li>
<li class=""><strong>Liquibase(CLI)</strong> Herramienta a usar (opcional)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="instalar-docker-necesario">Instalar Docker (Necesario)<a href="#instalar-docker-necesario" class="hash-link" aria-label="Enlace directo al Instalar Docker (Necesario)" title="Enlace directo al Instalar Docker (Necesario)" translate="no">‚Äã</a></h3>
<p>Para crear bases de datos de prueba sin instalar nada m√°s en tu Mac Ve a <a href="https://docs.docker.com/desktop/mac/install/" target="_blank" rel="noopener noreferrer" class="">https://docs.docker.com/desktop/mac/install/</a>
Descarga e instala Docker Desktop para Mac.</p>
<p>Abre Docker Desktop y aseg√∫rate que est√© corriendo.</p>
<p>Verifica desde Terminal:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker compose version</span><br></span></code></pre></div></div>
<img src="/img/blog/devops/dockerinstall.png" alt="Terminal mostrando la versi√≥n de docker instalada, texto 
visible: docker version 17.0.2 2022-01-18, ambiente de desarrollo en macOS, tono informativo y neutral" width="600">
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="instalar-homebrew-si-no-lo-tienes">Instalar Homebrew (si no lo tienes)<a href="#instalar-homebrew-si-no-lo-tienes" class="hash-link" aria-label="Enlace directo al Instalar Homebrew (si no lo tienes)" title="Enlace directo al Instalar Homebrew (si no lo tienes)" translate="no">‚Äã</a></h3>
<p>Si no tienes Homebrew, instala con:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="java-jdk-opcional">JAVA JDK (opcional)<a href="#java-jdk-opcional" class="hash-link" aria-label="Enlace directo al JAVA JDK (opcional)" title="Enlace directo al JAVA JDK (opcional)" translate="no">‚Äã</a></h3>
<p>Verificamos si tenemos intalado java</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -version</span><br></span></code></pre></div></div>
<p>En caso de que lo tengas instalado continua al siguiente paso de instalaci√≥n de liquibase</p>
<ul>
<li class="">
<p>Instalaci√≥n</p>
<p>Para instalarlo tendremos que usar el siguiente comando en caso de usar hombrew</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install openjdk@17</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>A√±ade a tu PATH (varia segun la versi√≥n estalada)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ln -sfn $(brew --prefix openjdk@17)/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-17.jdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;export PATH=&quot;/usr/local/opt/openjdk@17/bin:$PATH&quot;&#x27; &gt;&gt; ~/.zshrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.zshrc</span><br></span></code></pre></div></div>
</li>
<li class="">
<p>Volvemos a repetir la verficaci√≥n del JDK</p>
<p>Verificamos si tenemos instalado Java.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">java -version</span><br></span></code></pre></div></div>
<p>Si est√° instalado, ver√°s una salida similar a la siguiente imagen:</p>
<img src="/img/blog/devops/terminal_susses_jdk.png" alt="Terminal mostrando la versi√≥n de Java instalada, texto visible: openjdk version 17.0.2 2022-01-18, ambiente de desarrollo en macOS, tono informativo y neutral" width="600">
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="instalemos-el-cli-de-liquibase-opcional">Instalemos el CLI de liquibase (Opcional)<a href="#instalemos-el-cli-de-liquibase-opcional" class="hash-link" aria-label="Enlace directo al Instalemos el CLI de liquibase (Opcional)" title="Enlace directo al Instalemos el CLI de liquibase (Opcional)" translate="no">‚Äã</a></h3>
<p>La forma mas facil de inplementarlo es unsado brew en el caso de mac</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install liquibase</span><br></span></code></pre></div></div>
<p>verifica la instalaci√≥n</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">liquibase --version</span><br></span></code></pre></div></div>
<p>una vez instalado si lo realizaste des de tu terminal en mac si puebas el comando de version si sale algo
como la siguiente imagen todo estara correctamente y podremos seguir sin problema üòÉ.</p>
<img src="/img/blog/devops/liquibase_install.png" alt="Terminal mostrando la versi√≥n de liquibase instalada, texto 
visible: openjdk version 17.0.2 2022-01-18, ambiente de desarrollo en macOS, tono informativo y neutral" width="600">
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="instalar-cliente-postgresql-opcional">Instalar cliente PostgreSQL (opcional)<a href="#instalar-cliente-postgresql-opcional" class="hash-link" aria-label="Enlace directo al Instalar cliente PostgreSQL (opcional)" title="Enlace directo al Instalar cliente PostgreSQL (opcional)" translate="no">‚Äã</a></h3>
<p>Para interactuar con la base de datos de uba forna m√°s facil puede usar al igual que yo el cliente des Postgres:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install postgresql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Luego </span><br></span></code></pre></div></div>
<p>prueba conectarte una vez este levantes el <strong>docker-compose</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">psql -h localhost -U liquibase -d liquibase_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Contrase√±a: liquibase</span><br></span></code></pre></div></div>
<table><thead><tr><th>Opci√≥n</th><th>Significado</th></tr></thead><tbody><tr><td><code>psql</code></td><td>Cliente de l√≠nea de comandos de PostgreSQL</td></tr><tr><td><code>-h localhost</code></td><td>Host de la base de datos (en este caso, <code>localhost</code>)</td></tr><tr><td><code>-U liquibase</code></td><td>Usuario con el que se conecta (<code>liquibase</code>)</td></tr><tr><td><code>-d liquibase_demo</code></td><td>Base de datos a la que se conecta (<code>liquibase_demo</code>)</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="iniciemos-con-nuestro-laboratorio-">Iniciemos con nuestro laboratorio üòÉ<a href="#iniciemos-con-nuestro-laboratorio-" class="hash-link" aria-label="Enlace directo al Iniciemos con nuestro laboratorio üòÉ" title="Enlace directo al Iniciemos con nuestro laboratorio üòÉ" translate="no">‚Äã</a></h3>
<p>Genial!!, Si todo t√© sali√≥ bien, en este punto ya deber√≠amos tener instalados todo lo necesario para poder iniciar
a colocar las primeras l√≠neas de c√≥digo para implementar nuestro laboratorio ü•≥.</p>
<p>para realizar nuestra prueba inicial implementaremos la siguiente estructura de carpetas</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-estructura-del-proyecto">üóÇÔ∏è estructura del proyecto<a href="#Ô∏è-estructura-del-proyecto" class="hash-link" aria-label="Enlace directo al üóÇÔ∏è estructura del proyecto" title="Enlace directo al üóÇÔ∏è estructura del proyecto" translate="no">‚Äã</a></h3>
<p>esta estructuras es una estructura b√°sica solamente realizada para la prueba, para realizar un proyecto a un nivel
mas producci√≥n deber√°s realizar algunos cambios que tal vez dejar√© en otro apartado, ya que lo que buscamos en este
laboratorio es experimentar y entender como funciona <strong>liquibase</strong>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Tree</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">liquibase-lab/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ changelogs/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îÇ   ‚îú‚îÄ‚îÄ db.changelog-master.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ liquibase.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îî‚îÄ‚îÄ .gitignore (opcional)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="-descripci√≥n-de-archivos-y-carpetas">üìù Descripci√≥n de Archivos y Carpetas<a href="#-descripci√≥n-de-archivos-y-carpetas" class="hash-link" aria-label="Enlace directo al üìù Descripci√≥n de Archivos y Carpetas" title="Enlace directo al üìù Descripci√≥n de Archivos y Carpetas" translate="no">‚Äã</a></h4>
<table><thead><tr><th>Archivo/Carpeta</th><th>Descripci√≥n</th></tr></thead><tbody><tr><td><code>changelogs/</code></td><td>Carpeta que contiene todos los archivos de cambios (changelogs).</td></tr><tr><td><code>db.changelog-master.yaml</code></td><td>Changelog principal que act√∫a como punto de entrada e incluye otros.</td></tr><tr><td><code>001-*.yaml</code>, <code>002-*.yaml</code></td><td>Archivos con cambios individuales, ordenados por prefijo num√©rico.</td></tr><tr><td><code>docker-compose.yml</code></td><td>Archivo para levantar la base de datos PostgreSQL con Docker.</td></tr><tr><td><code>liquibase.properties</code></td><td>Archivo de configuraci√≥n de Liquibase: conexi√≥n, changelog, credenciales.</td></tr><tr><td><code>README.md</code></td><td>Documentaci√≥n y notas del laboratorio.</td></tr><tr><td><code>.gitignore</code></td><td>Opcional. Ignora archivos temporales, logs, etc., si usas Git.</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="-crea-rapidamente-la-estructura-desde-cero">ü™Ñ Crea rapidamente la estructura desde cero<a href="#-crea-rapidamente-la-estructura-desde-cero" class="hash-link" aria-label="Enlace directo al ü™Ñ Crea rapidamente la estructura desde cero" title="Enlace directo al ü™Ñ Crea rapidamente la estructura desde cero" translate="no">‚Äã</a></h4>
<p>Con el siguiente comando podr√°s crear toda la estructur√° sin ning√∫n problema desde tu terminal, estos tambi√©n sirven en
linux</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; $ mkdir liquibase-lab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; $ cd liquibase-lab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; $ mkdir changelogs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; $ touch docker-compose.yml liquibase.properties changelogs/db.changelog-master.yaml README.md</span><br></span></code></pre></div></div>
<p>Una vez ya tengas la estructura creada puedes abrir tu VS Code y utilizarlo para seguir con el siguiente paso</p>
<img src="/img/blog/devops/liquibasevscode.png" width="600">
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="Ô∏è-cremos-nuestro-docker-compose">üèóÔ∏è Cremos nuestro Docker-compose<a href="#Ô∏è-cremos-nuestro-docker-compose" class="hash-link" aria-label="Enlace directo al üèóÔ∏è Cremos nuestro Docker-compose" title="Enlace directo al üèóÔ∏è Cremos nuestro Docker-compose" translate="no">‚Äã</a></h2>
<p>Ahora escribiremos el siguiente c√≥digo que lleva la configuraci√≥n de nuestro compose, junto con los diferentes
vol√∫menes que nos ayudaran a mantener que persista nuestra data</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Docker-Compose</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    db:  # Servicio de base de datos PostgreSQL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: postgres:14  # Imagen oficial de PostgreSQL, versi√≥n 14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        container_name: liquibase_db  # Nombre del contenedor para referencia f√°cil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        environment:  # Variables de entorno para crear la base de datos inicial</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        POSTGRES_USER: liquibase      # Usuario con permisos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        POSTGRES_PASSWORD: liquibase  # Contrase√±a del usuario</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        POSTGRES_DB: liquibase_demo   # Nombre de la base de datos a crear</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ports:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;5432:5432&quot;  # Expone el puerto de PostgreSQL al host local</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - liquibase-net  # Conecta este servicio a una red personalizada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        healthcheck:  # Verifica que PostgreSQL est√© listo antes de continuar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        test: [&quot;CMD&quot;, &quot;pg_isready&quot;, &quot;-U&quot;, &quot;liquibase&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        interval: 5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timeout: 5s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        retries: 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    liquibase:  # Servicio para ejecutar comandos de Liquibase CLI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        image: liquibase/liquibase:latest  # Imagen oficial de Liquibase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        container_name: liquibase_cli  # Nombre del contenedor de Liquibase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depends_on:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        db:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            condition: service_healthy  # Espera a que la base de datos est√© lista</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        volumes:  # Mapea archivos locales al contenedor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - ./changelogs:/liquibase/changelogs  # Cambios en la BD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - ./liquibase.properties:/liquibase/liquibase.properties  # Configuraci√≥n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        working_dir: /liquibase  # Carpeta por defecto donde ejecuta comandos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        entrypoint: [&quot;tail&quot;, &quot;-f&quot;, &quot;/dev/null&quot;]  # Mantiene el contenedor en ejecuci√≥n para uso interactivo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - liquibase-net  # Se conecta a la misma red que la BD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    networks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    liquibase-net:  # Red personalizada para que los servicios se comuniquen por nombre</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="creemos-nuestro-liquibaseproperties">Creemos nuestro liquibase.properties<a href="#creemos-nuestro-liquibaseproperties" class="hash-link" aria-label="Enlace directo al Creemos nuestro liquibase.properties" title="Enlace directo al Creemos nuestro liquibase.properties" translate="no">‚Äã</a></h2>
<p>Si seguiste la gu√≠a, hasta este punto en los archivos necesarios que creamos encontraras el <em><strong>liquibase.properties</strong></em>
el cual es el archivo que contendr√° la configuraci√≥n de nuestro liquibase, es el encargado de decirle a liquibase <strong>como
conectarse ala base de datos</strong> y donde encontrar los archivos de cambios(changelogs).</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">liquibase.properties</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># liquibase.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">changeLogFile: changelogs/db.changelog-master.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url: jdbc:postgresql://db:5432/liquibase_demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">username: liquibase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password: liquibase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver: org.postgresql.Driver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logLevel: info</span><br></span></code></pre></div></div>
<p>| OJO: en el url, el host es db, el nombre del servicio del contenedor.</p>
<table><thead><tr><th>Propiedad</th><th>Descripci√≥n</th><th>Ejemplo</th></tr></thead><tbody><tr><td><code>changeLogFile</code></td><td>Ruta al archivo principal de cambios de base de datos (changelog).</td><td><code>changelogs/db.changelog.yaml</code></td></tr><tr><td><code>url</code></td><td>URL de conexi√≥n JDBC que indica el tipo de base de datos, host, puerto y nombre de la base.</td><td><code>jdbc:postgresql://db:5432/liquibase_demo</code></td></tr><tr><td><code>username</code></td><td>Usuario con permisos para ejecutar cambios en la base de datos.</td><td><code>liquibase</code></td></tr><tr><td><code>password</code></td><td>Contrase√±a del usuario de la base de datos.</td><td><code>liquibase</code></td></tr><tr><td><code>driver</code></td><td>Clase del driver JDBC correspondiente al motor de base de datos.</td><td><code>org.postgresql.Driver</code></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-vamos-a-crear-nuestro-changelog">üß† Vamos a crear nuestro changelog<a href="#-vamos-a-crear-nuestro-changelog" class="hash-link" aria-label="Enlace directo al üß† Vamos a crear nuestro changelog" title="Enlace directo al üß† Vamos a crear nuestro changelog" translate="no">‚Äã</a></h2>
<p>¬øQu√© hace db.changelog-master.yaml?Es un archivo maestro que organiza los cambios en la base de datos. Su funci√≥n principal es referenciar otros archivos de
cambios (por orden y modularidad), o contener directamente las instrucciones (changeSets) que Liquibase aplicar√°.</p>
<p>En este caso tenemos dos formas para poder crear nuestro <strong>changelog</strong> en este ejemplo dejar√© las referencias a las dos formas, para que entiendas que podemos
hacer.</p>
<ul>
<li class="">
<p>opci√≥n 1
En este caso se implementa un solo archivo maestro que contendra todos los <strong>changeSets</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">databaseChangeLog</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">databaseChangeLog:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- changeSet:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id: 001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author: alejo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    changes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - createTable:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tableName: users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            columns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name: id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: UUID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                constraints:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    primaryKey: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name: name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: VARCHAR(100)</span><br></span></code></pre></div></div>
<p>De esta forma tendr√°s que tener el proyecto si utilizas esta opci√≥n.</p>
<img src="/img/blog/devops/changelogmaster.png" width="600">
<p>| ‚ö†Ô∏è Esto es √∫til en proyectos peque√±os o cuando prefieres tener todo en un solo archivo lo cual puede generar al gunos problemas a largo plazo</p>
</li>
<li class="">
<p>opci√≥n 2
En este caso se implementa un archivo que contendr√° todos los modelos de (changeSets), en el que tendremos las rutas de los <strong>changeSets</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">databaseChangeLog-master</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># changelogs/db.changelog-master.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">databaseChangeLog:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- include:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    file: changelogs/001-init-schema.yaml</span><br></span></code></pre></div></div>
<p>| Cada changeSet es √∫nico por id + author. No repitas estos valores.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">changelogs/001-init-schema.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    databaseChangeLog:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - changeSet:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        id: 001</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        author: alejo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        changes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - createTable:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                tableName: users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                columns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    name: id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    type: UUID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    constraints:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        primaryKey: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    name: name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    type: VARCHAR(100)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    name: email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    type: VARCHAR(150)</span><br></span></code></pre></div></div>
<img src="/img/blog/devops/liquivasetreeprod.png" width="600">
<p>‚úÖ Este modelo de carpetas te permitir√° escalar de una forma m√°s f√°cil y poder versionar todos tus cambios de una forma eficiente, en caso de que quieras
realizar alg√∫n cambio</p>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="vamos-a-correr-nuestro-poyecto">Vamos a correr nuestro poyecto<a href="#vamos-a-correr-nuestro-poyecto" class="hash-link" aria-label="Enlace directo al Vamos a correr nuestro poyecto" title="Enlace directo al Vamos a correr nuestro poyecto" translate="no">‚Äã</a></h3>
<p>Perfecto si llegaste hasta aqu√≠ ya podemos correr los comandos de nuestro üê≥ <strong>docker-compose</strong> para correr el proyecto</p>
<p>‚úÖ 1. Levantar los servicios en segundo plano
Esto crea y arranca los contenedores:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker compose up -d</span><br></span></code></pre></div></div>
<p>| üîç Esto arrancar√° el contenedor de PostgreSQL y lo dejar√° corriendo en segundo plano ya que usamos <strong>-d</strong>.</p>
<p>‚úÖ 2. Verificar que la base de datos est√° lista
Liquibase depende de que la base de datos est√© lista. Aseg√∫rate de que el servicio db est√© healthy:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker compose ps</span><br></span></code></pre></div></div>
<p>veras algo como esto</p>
<img src="/img/blog/devops/liquivasetreeprod.png" width="600">
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-c√≥mo-sabe-liquibase-qu√©-ya-corri√≥">üß† ¬øC√≥mo sabe Liquibase qu√© ya corri√≥?<a href="#-c√≥mo-sabe-liquibase-qu√©-ya-corri√≥" class="hash-link" aria-label="Enlace directo al üß† ¬øC√≥mo sabe Liquibase qu√© ya corri√≥?" title="Enlace directo al üß† ¬øC√≥mo sabe Liquibase qu√© ya corri√≥?" translate="no">‚Äã</a></h3>
<p>Liquibase registra los changeSets ejecutados en una tabla llamada DATABASECHANGELOG. As√≠ evita repetir cambios y permite auditar qu√© se aplic√≥, cu√°ndo y por qui√©n.</p>
<img src="/img/blog/devops/liquibaserun.png" width="600">
<p>En este punto ya tenemos nuestros servicios corriendo, y con ya podremos ejecutar</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it liquibase_cli liquibase update</span><br></span></code></pre></div></div>
<p>Si todo te sale bien, deber√°s ver algo como se ve en la imagen.</p>
<img src="/img/blog/devops/primerejecucion.png" width="600">
<p>| Esto ejecutar√° todos los changeSets del archivo db.changelog-master.yaml y aplicar√° los cambios en la base de datos PostgreSQL.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-por-qu√©-se-crea-autom√°ticamente">üß† ¬øPor qu√© se crea autom√°ticamente?<a href="#-por-qu√©-se-crea-autom√°ticamente" class="hash-link" aria-label="Enlace directo al üß† ¬øPor qu√© se crea autom√°ticamente?" title="Enlace directo al üß† ¬øPor qu√© se crea autom√°ticamente?" translate="no">‚Äã</a></h3>
<p>La base de datos se crea autom√°ticamente porque se lo est√°s indicando al contenedor de PostgreSQL con POSTGRES_DB al inicio.</p>
<img src="/img/blog/devops/conectiondb.png" width="600">
<p>y en nuestra base de datos <strong>Postgres</strong> podremos ver lo siguiente</p>
<img src="/img/blog/devops/basededatos.png" width="600">
<p>Cuando corremos este comando <strong>liquibase</strong> se crearan dos tablas <code>databasechangelog</code> y <code>databasechangeloglock</code></p>
<table><thead><tr><th>Tabla</th><th>¬øPara qu√© sirve?</th></tr></thead><tbody><tr><td><code>databasechangelog</code></td><td>Historial de cambios ya aplicados</td></tr><tr><td><code>databasechangeloglock</code></td><td>Evita conflictos por ejecuci√≥n simult√°nea</td></tr></tbody></table>
<p>Genial hasta este punto ya tenemos nuestro proyecto creado y corriendo, ahora realizaremos una actualizaci√≥n a la tabla <code>users</code> que creamos
donde crearemos un <code>changeSet</code></p>
<ul>
<li class="">Creemos otro archivo dentro de nuestra carpeta <code>changelogs</code> con el nombre <code>002-create-users-table.yaml</code></li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">databaseChangeLog:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- changeSet:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id: 002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author: alejo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    changes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - addColumn:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tableName: users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            columns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name: birthdate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: DATE</span><br></span></code></pre></div></div>
<p>|Cada changeSet es √∫nico por id + author. No repitas estos valores.</p>
<p>En este caso aremos un cambio ala tabla <code>users</code> donde agregaremos la columna de <strong>birthdate</strong></p>
<p>Ya creado nuestro archivo ejecutaremos nuevamente nuestro comando, que generara los cambios en la base de datos.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it liquibase_cli liquibase update</span><br></span></code></pre></div></div>
<p>al ejecutar deber√° salir lo que se ve en la siguiente imagen</p>
<img src="/img/blog/devops/runliquibasechange.png" width="600">
<p>Para comprobar el cambio te puedes conectar ala base de datos y validar que se crearon los campos como los definimos</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="c√≥mo-funciona-el-rollback">¬øC√≥mo funciona el rollback?<a href="#c√≥mo-funciona-el-rollback" class="hash-link" aria-label="Enlace directo al ¬øC√≥mo funciona el rollback?" title="Enlace directo al ¬øC√≥mo funciona el rollback?" translate="no">‚Äã</a></h3>
<p>Liquibase puede revertir cambios de varias maneras, pero solo si sabe c√≥mo hacerlo. Esto es posible si:</p>
<p>El changeSet tiene rollback autom√°tico (por ejemplo, createTable se puede revertir con dropTable).
T√∫ defines expl√≠citamente el rollback en tu changeSet.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="como-podemos-rollback">Como podemos rollback<a href="#como-podemos-rollback" class="hash-link" aria-label="Enlace directo al Como podemos rollback" title="Enlace directo al Como podemos rollback" translate="no">‚Äã</a></h3>
<p>Liquibase permite revertir usando distintos comandos:</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="-ejemplo-de-rollback">üîÅ Ejemplo de rollback<a href="#-ejemplo-de-rollback" class="hash-link" aria-label="Enlace directo al üîÅ Ejemplo de rollback" title="Enlace directo al üîÅ Ejemplo de rollback" translate="no">‚Äã</a></h4>
<ul>
<li class="">Agregamos a nuestro changelog nuestra actualizaci√≥n</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">databaseChangeLog:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- changeSet:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id: 003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    author: alejo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    changes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - addColumn:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tableName: users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            columns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            - column:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                name: age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type: INT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rollback:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - dropColumn:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            columnName: age</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tableName: users</span><br></span></code></pre></div></div>
<p>Este archivo:</p>
<ul>
<li class="">
<p>Agrega una columna age a la tabla users.</p>
</li>
<li class="">
<p>Define que el rollback elimina esa columna.</p>
</li>
<li class="">
<p>Actualizamos nuestr archivo üìò <code>db.changelog-master.yaml</code></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">databaseChangeLog:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - include:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file: changelogs/001-create-table-user.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - include:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file: changelogs/002-insert-users.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - include:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        file: changelogs/003-add-column-age.yaml</span><br></span></code></pre></div></div>
</li>
</ul>
<p>Deberas tener algo asi, como se ve en la siguiente imagen</p>
<img src="/img/blog/devops/rollbackliquibase.png" width="600">
<p>Hora vamos a ejecutarlo, En este caso corremos primeros nuestra actualizaci√≥n, donde se agregar√° <code>ege</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    docker exec -it liquibase_cli liquibase update</span><br></span></code></pre></div></div>
<p>Como s√© que todo t√© sali√≥ bien deber√° salirte en tu consola algo como esto y en tu tabla debi√≥ aparecer la columna <code>ege</code></p>
<img src="/img/blog/devops/addege.png" width="600">
<p>Para realizar el rollback tienes varias opciones, aqu√≠ dejar√© dos que puedes usar sin problema</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="-1-rollback-de-un-changeset-espec√≠fico-desde-003">üîÅ 1. Rollback de un changeSet espec√≠fico (desde 003)<a href="#-1-rollback-de-un-changeset-espec√≠fico-desde-003" class="hash-link" aria-label="Enlace directo al üîÅ 1. Rollback de un changeSet espec√≠fico (desde 003)" title="Enlace directo al üîÅ 1. Rollback de un changeSet espec√≠fico (desde 003)" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker compose exec liquibase liquibase rollbackCount 1</span><br></span></code></pre></div></div>
<p>Este revierte el √∫ltimo cambio (003), usando el bloque rollback.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="-2-rollback-por-id">üîÅ 2. Rollback por ID<a href="#-2-rollback-por-id" class="hash-link" aria-label="Enlace directo al üîÅ 2. Rollback por ID" title="Enlace directo al üîÅ 2. Rollback por ID" translate="no">‚Äã</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Bash</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    docker compose exec liquibase liquibase liquibase rollbackToDate &quot;2025-06-11T20:00:00&quot;</span><br></span></code></pre></div></div>
<p>Este revierte todos los cambios hasta (pero no incluyendo) el changeSet con id: 002.</p>
<p>Si se aplica el rollback volveremos a la versi√≥n 002 de una forma f√°cil.</p>
<img src="/img/blog/devops/rollbacksucces.png" width="600">
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tabla-comandos-">Tabla comandos üéÆ<a href="#tabla-comandos-" class="hash-link" aria-label="Enlace directo al Tabla comandos üéÆ" title="Enlace directo al Tabla comandos üéÆ" translate="no">‚Äã</a></h3>
<p>Aqu√≠ encontrar√°s una serie de comandos que puedes ejecutar para que sigas probando las otras funcionalidades que tiene liquibase.
Te invito a probar y testear todo lo que quieras.</p>
<p>Puedes agregar <code>exec -it</code> para ver hacer la terminal interactiva</p>
<table><thead><tr><th>Comando</th><th>¬øPara qu√© sirve?</th></tr></thead><tbody><tr><td><code>docker compose run liquibase update</code></td><td>Aplica todos los <code>changeSet</code> pendientes definidos en el changelog maestro.</td></tr><tr><td><code>docker compose run liquibase status</code></td><td>Muestra qu√© cambios (changeSets) a√∫n no se han aplicado a la base de datos.</td></tr><tr><td><code>docker compose run liquibase history</code></td><td>Lista todos los <code>changeSets</code> ya aplicados con detalles (fecha, autor, id).</td></tr><tr><td><code>docker compose run liquibase rollbackCount 1</code></td><td>Revierte el √∫ltimo cambio aplicado (puedes cambiar <code>1</code> por otro n√∫mero).</td></tr><tr><td><code>docker compose run liquibase rollbackToDate 2024-01-01</code></td><td>Revierte todos los cambios hechos despu√©s de una fecha espec√≠fica.</td></tr><tr><td><code>docker compose run liquibase validate</code></td><td>Valida el archivo changelog, revisa errores de sintaxis o duplicados.</td></tr><tr><td><code>docker compose run liquibase clearCheckSums</code></td><td>Limpia los checksums para forzar revalidaci√≥n de cambios. √ötil si editaste sets.</td></tr><tr><td><code>docker compose run liquibase changelogSync</code></td><td>Marca todos los cambios como aplicados sin ejecutarlos (¬°√∫til en producci√≥n!).</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="errores">Errores<a href="#errores" class="hash-link" aria-label="Enlace directo al Errores" title="Enlace directo al Errores" translate="no">‚Äã</a></h2>
<p>Como siempre cometemos errores, durante la primera configuraci√≥n implementan mal la conexi√≥n a la base de datos
debido a que estaba apuntando al local host, el cual hace que apunte dentro de su propio contenedor, por eso no lo encontraba
entonces esto se lo correg√≠  el par√°metro url.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Error</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># liquibase.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Connection could not be created to jdbc:postgresql://localhost:5432/liquibase_demo</span><br></span></code></pre></div></div>
<p>| Est√°s diciendo que se conecte a localhost (jdbc:postgresql://localhost:5432)</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gracias--por-llegar-hasta-este-punto">Gracias ü§© por llegar hasta este punto<a href="#gracias--por-llegar-hasta-este-punto" class="hash-link" aria-label="Enlace directo al Gracias ü§© por llegar hasta este punto" title="Enlace directo al Gracias ü§© por llegar hasta este punto" translate="no">‚Äã</a></h3>
<p>A√∫n quedan muchas cosas por explorar de <strong>liquibase</strong>, pero te agradezco por tomarte el tiempo de entrar a este blog. El c√≥digo implementado
lo puedes encontrar en m√≠ git-hub <a href="https://github.com/alejo95/liquibase-lab" target="_blank" rel="noopener noreferrer" class="">alejo95/Liquibase-lab</a></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mi-punto-de-vista">Mi punto de vista<a href="#mi-punto-de-vista" class="hash-link" aria-label="Enlace directo al Mi punto de vista" title="Enlace directo al Mi punto de vista" translate="no">‚Äã</a></h3>
<p>En realidad, es genial este tipo de herramientas que facilitan la actualizaci√≥n de las bases de datos usando pr√°cticas
del mundo <strong>DevOps</strong>, para m√≠ fue una experiencia genial, ya que me permite entender de una forma f√°cil la implementaci√≥n
de actualizaciones r√°pidas a la base de datos, aparte de eso, cuenta con muchas cualidades que ayudan a esta herramienta mejore
el flujo de trabajo es un <strong>100%</strong>, ya que logramos romper esa barra entre el equipo.</p>
<p>Dejar√© una lista de 10 ventajas que tiene liquibase</p>
<table><thead><tr><th>N¬∫</th><th>Ventaja</th><th>Descripci√≥n</th></tr></thead><tbody><tr><td>1</td><td><strong>Control de versiones</strong></td><td>Lleva historial detallado de los cambios en la base de datos, como Git para el c√≥digo.</td></tr><tr><td>2</td><td><strong>Rollback autom√°tico</strong></td><td>Permite revertir cambios f√°cilmente usando tags, fechas o n√∫mero de cambiosets.</td></tr><tr><td>3</td><td><strong>Seguridad y consistencia</strong></td><td>Asegura que los cambios se apliquen una sola vez y en el orden correcto.</td></tr><tr><td>4</td><td><strong>Integraci√≥n con CI/CD</strong></td><td>Se puede integrar en pipelines para aplicar cambios autom√°ticamente.</td></tr><tr><td>5</td><td><strong>Soporte multiplataforma</strong></td><td>Compatible con PostgreSQL, MySQL, Oracle, SQL Server, H2, entre otros.</td></tr><tr><td>6</td><td><strong>Soporte para m√∫ltiples formatos</strong></td><td>Cambios escritos en XML, YAML, JSON o SQL, seg√∫n la preferencia del equipo.</td></tr><tr><td>7</td><td><strong>Ejecuci√≥n simulada (dry run)</strong></td><td>Permite previsualizar cambios sin aplicarlos realmente (<code>updateSQL</code>, <code>rollbackSQL</code>).</td></tr><tr><td>8</td><td><strong>Gesti√≥n de bloqueos</strong></td><td>Usa locking para evitar conflictos cuando varios procesos intentan modificar la DB.</td></tr><tr><td>9</td><td><strong>Historial centralizado</strong></td><td>Registra todos los cambios aplicados en tablas internas (<code>databasechangelog</code>).</td></tr><tr><td>10</td><td><strong>Comparaci√≥n de esquemas</strong></td><td><code>liquibase diff</code> compara dos bases de datos y genera un changelog autom√°ticamente.</td></tr></tbody></table></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Etiquetas:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/tags/liquibase">Liquibase</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/tags/database">Database</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/tags/devops">DevOps</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/tags/databasedevops">Database DevOps</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="http://iamdevops.site/my_page/edit/main/blog/2025/repository_management/liquibase.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta p√°gina</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Barra de paginaci√≥n de publicaciones del blog"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/vagrant"><div class="pagination-nav__sublabel">Publicaci√≥n m√°s reciente</div><div class="pagination-nav__label">Aprendiendo iaC con Vagrant</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/entendiendo_nginx"><div class="pagination-nav__sublabel">Publicaci√≥n m√°s antigua</div><div class="pagination-nav__label">Nginx</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ques-database-devops-" class="table-of-contents__link toc-highlight">¬øQues Database DevOps? üë®‚Äçüíª</a></li><li><a href="#porque-surge-esta-problematica-" class="table-of-contents__link toc-highlight">¬øPorque surge esta problematica? üòß</a></li><li><a href="#una-soluci√≥n-entre-muchas-" class="table-of-contents__link toc-highlight">Una soluci√≥n entre muchas üîß</a></li><li><a href="#laboratorio-liquibase-" class="table-of-contents__link toc-highlight">Laboratorio Liquibase üß™</a><ul><li><a href="#Ô∏è-requisitos-previos" class="table-of-contents__link toc-highlight">‚öôÔ∏è Requisitos previos</a></li><li><a href="#instalar-docker-necesario" class="table-of-contents__link toc-highlight">Instalar Docker (Necesario)</a></li><li><a href="#instalar-homebrew-si-no-lo-tienes" class="table-of-contents__link toc-highlight">Instalar Homebrew (si no lo tienes)</a></li><li><a href="#java-jdk-opcional" class="table-of-contents__link toc-highlight">JAVA JDK (opcional)</a></li><li><a href="#instalemos-el-cli-de-liquibase-opcional" class="table-of-contents__link toc-highlight">Instalemos el CLI de liquibase (Opcional)</a></li><li><a href="#instalar-cliente-postgresql-opcional" class="table-of-contents__link toc-highlight">Instalar cliente PostgreSQL (opcional)</a></li><li><a href="#iniciemos-con-nuestro-laboratorio-" class="table-of-contents__link toc-highlight">Iniciemos con nuestro laboratorio üòÉ</a></li><li><a href="#Ô∏è-estructura-del-proyecto" class="table-of-contents__link toc-highlight">üóÇÔ∏è estructura del proyecto</a></li></ul></li><li><a href="#Ô∏è-cremos-nuestro-docker-compose" class="table-of-contents__link toc-highlight">üèóÔ∏è Cremos nuestro Docker-compose</a></li><li><a href="#creemos-nuestro-liquibaseproperties" class="table-of-contents__link toc-highlight">Creemos nuestro liquibase.properties</a></li><li><a href="#-vamos-a-crear-nuestro-changelog" class="table-of-contents__link toc-highlight">üß† Vamos a crear nuestro changelog</a><ul><li><a href="#vamos-a-correr-nuestro-poyecto" class="table-of-contents__link toc-highlight">Vamos a correr nuestro poyecto</a></li><li><a href="#-c√≥mo-sabe-liquibase-qu√©-ya-corri√≥" class="table-of-contents__link toc-highlight">üß† ¬øC√≥mo sabe Liquibase qu√© ya corri√≥?</a></li><li><a href="#-por-qu√©-se-crea-autom√°ticamente" class="table-of-contents__link toc-highlight">üß† ¬øPor qu√© se crea autom√°ticamente?</a></li><li><a href="#c√≥mo-funciona-el-rollback" class="table-of-contents__link toc-highlight">¬øC√≥mo funciona el rollback?</a></li><li><a href="#como-podemos-rollback" class="table-of-contents__link toc-highlight">Como podemos rollback</a></li><li><a href="#tabla-comandos-" class="table-of-contents__link toc-highlight">Tabla comandos üéÆ</a></li></ul></li><li><a href="#errores" class="table-of-contents__link toc-highlight">Errores</a><ul><li><a href="#gracias--por-llegar-hasta-este-punto" class="table-of-contents__link toc-highlight">Gracias ü§© por llegar hasta este punto</a></li><li><a href="#mi-punto-de-vista" class="table-of-contents__link toc-highlight">Mi punto de vista</a></li></ul></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Docs</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/alejo95" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/alejandroramirezcobos/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 My Project</div></div></div></footer></div>
</body>
</html>